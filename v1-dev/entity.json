{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "Entity Schema",
  "description": "Data schema to define a person or legal entity.",
  "type": "object",
  "properties": {
    "id": {
      "description": "The unique identifier for the person or legal entity within the financial institution.",
      "type": "string"
    },
    "date": {
      "description": "YYYY-MM-DDTHH:MM:SSZ in accordance with ISO 8601.",
      "type": "string",
      "format": "date-time"
    },
    "address_city": {
      "description": "City, town or village.",
      "type": "string"
    },
    "boe_industry_code": {
      "description": "Bank of England industry code.",
      "type": "string"
    },
    "boe_sector_code": {
      "description": "Bank of England sector code.",
      "type": "string"
    },
    "nrs_code":{
      "description": "Unique identifier as defined by the national reporting system",
      "type": "string"
    },
    "count": {
      "description": "Describes the number of entities represented by this record. eg. joint customers should have a count > 1.",
      "type": "integer",
      "minimum": 1
    },
    "country_code": {
      "$ref": "https://raw.githubusercontent.com/SuadeLabs/fire/master/v1-dev/common.json#/country_code",
      "description": "The person or entity country of residence. Two-letter country code as defined according to ISO 3166-1."
    },
    "credit_impaired": {
      "description": "Flag to determine if the entity credit quality is impaired.",
      "type": "boolean"
    },
    "cqs_standardised": {
      "description": "The credit quality step for standardised approach.",
      "type": "integer",
      "minimum": 1,
      "maximum": 6
    },
    "cqs_irb": {
      "description": "The credit quality step for internal ratings based approach.",
      "type": "integer",
      "minimum": 1,
      "maximum": 12
    },
    "intra_group": {
      "description": "Flag to indicate that this should be considered an intra-group entity.",
      "type": "boolean"
    },
    "lei_code": {
      "description": "The LEI code for the legal entity (for corporates).",
      "type": "string",
      "minLength": 20,
      "maxLength": 20
    },
    "legal_entity_name": {
      "description": "The official legal name of the entity.",
      "type": "string"
    },
    "name": {
      "description": "The name of the person or legal entity to be used for display and reference purposes.",
      "type": "string"
    },
    "parent_id": {
      "description": "The unique identifier for the ultimate parent of the person or legal entity.",
      "type": "string"
    },
    "risk_group_id":{
      "description": "The unique identifier for the group representing a single risk entity where no relationship of control exists",
      "type": "string"
    },
    "risk_country_code": {
      "description": "Two-letter country code describing where the risk for the security resides. In accordance with ISO 3166-1",
      "$ref": "https://raw.githubusercontent.com/SuadeLabs/fire/master/v1-dev/common.json#/country_code"
    },
    "sic_code": {
      "description": "The UK SIC 2007 standard industry and sector classification.",
      "type": "integer",
      "minimum": 0,
      "maximum": 99999
    },
    "rating_lt_fitch": {
        "description": "Fitch long term credit ratings",
        "type":"string",
        "enum":["AAA", "AA+", "AA", "AA-", "A+", "A", "A-", "BBB+", "BBB", "BBB-", "BB+", "BB", "BB-", "B+", "B", "B-", "CCC", "DDD", "DD", "D"]
    },
    "rating_st_fitch": {
        "description": "Fitch short term credit ratings",
        "type":"string",
        "enum":["F1+", "F1", "F2", "F3", "B", "C"]
    },
    "rating_lt_moodys": {
        "description": "Moody's long term credit ratings",
        "type":"string",
        "enum":["AAA", "AA+", "AA", "AA-", "A+", "A", "A-", "BBB+", "BBB", "BBB-", "BB+", "BB", "BB-", "B+", "B", "B-", "CCC+", "CCC", "CCC-", "CC", "C", "D"]
    },
    "rating_st_moodys": {
        "description": "Moodys short term credit ratings",
        "type":"string",
        "enum":["A-1", "A-2", "A-3", "B", "C"]
    },
    "rating_lt_snp": {
        "description": "S&P long term credit ratings",
        "type":"string",
        "enum":["Aaa", "Aa1", "Aa2", "Aa3", "A1", "A2", "A3", "Baa1", "Baa2", "Baa3", "Ba1", "Ba2", "Ba3", "B1", "B2", "B3", "Caa1", "Caa2", "Caa3", "Ca", "C"]
    },
    "rating_st_snp": {
        "description": "S&P short term credit ratings",
        "type":"string",
        "enum":["P-1", "P-2", "P-3"]
    },
    "source": {
      "description": "The source(s) where this data originated. If more than one source needs to be stored for data lineage, it should be separated by a dash. eg. Source1-Source2",
      "type": "string"
    },
    "type": {
      "description": "The designated financial or legal entity category this person or legal entity falls under",
      "type": "string",
      "enum": [
        "individual", "sme", "supported_sme", "charity", "corporate", "other", "financial", "natural_person", "intl_org",
        "sovereign", "central_bank", "local_authority", "regional_govt", "central_govt", "other_pse", "pse", "mdb", "credit_institution",
        "investment_firm", "sspe", "ciu", "ceis", "insurer", "financial_holding", "other_financial", "promotional_lender",
        "pic", "credit_union", "deposit_broker", "pension_fund", "partnership", "ccp", "qcpp"
      ]
    },
    "version_id": {
      "description": "The version identifier of the data such as the firm's internal batch identifier.",
      "type": "string"
    }
  },
  "required": ["id", "date"],
  "additionalProperties": true
}
